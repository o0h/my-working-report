---
title: 2019/01/04
date: 2019-01-04T11:39:12+09:00
archives: ["2019/01"]
---
### よもやま
#### CakePHP縛りブログのsitemap
cake.nichiyoubi.land、折角なにか書いているのにsearch consoleから送っても全然sitemapが登録されないなぁ。。と思って悲しんでいたのだけど、思い出して今日見てみたら「成功しました」になってた。やったー  
でも、何だったんだろう。本当に単なる時間の問題だったんだろうか。2,3週間くらいかかったなぁ。

#### CakePHP 3.7.2
来ましたね。かなりおとなしめな修正かな？っていう印象。(どういうキメでリリース切ってんだろう)  
あとでブログにまとめます。

#### テストとスタブ
スキあらばPHPUnitで「prophecy使ったろwww」と画策しているのだけど、今までのモックの(partial mockの)ノリでいると中々適合しない。  
・・・なるほど、これは設計というかテストの思想が美しくないんだろうな〜。。。と打ちのめされる。

「メソッドAの内部で呼ばれるメソッドxをモックしたい」みたいなのだと、partial mockだとできなくて。(メソッドAを騙したいのである = メソッドA自体は動いていてほしい)  
記述の簡潔性の面で、PHPUnitのMockObjectのそれは、十分に「ちゃんとしている」ので。実用に耐えうる = パット見で吐き気を催すようなことはない。[^1]
これは「接地箇所にハリボテを置く」というやり方からは、反する。・・・多分、「モックの使い方」って本来はそういうものだよね？という風に感じている。

[^1]: [こちらの記事](https://taisablog.com/archives/55)など大変詳しく、足がかりとしてとてもお世話になりました。

預言者様、ごめんなさい・・・私は罪深いテストを書いております・・・

でもなぁ、今の自分の実力や経験だと「部分的なモックに甘んじている」部分を配しきれないような気がする、これはどっかにブレイクするー転がってるのかなぁ〜。

#### 昨年の振り返りとか新年のこととか
一旦、テキスト化して吐き出しておきたいな〜！という気持ちがやっぱりあるな、週末やるか。  
全然そのつもりだったけど、今日になって出社して隣の人と話してみたらいよいよ「絶対にGoをやる」という追い込まれが発生した。良さ。Go/JSやるやる詐欺に終止符を・・・超やるぞ・・

### 気になった記事・読んだ記事など
* [styled\-componentsで変わるReactコンポーネントのスタイリング \- WPJ](https://www.webprofessional.jp/style-react-components-styled-components/)
* [Open Source Engineer](https://sentry.io/careers/1492956/)

### 便利ツール・ショートカット

### 公開したもの

### ひとこと
今まで「なんかこういうの作ったら面白そうかもなー」メモを1人Slackに放り投げて言ってたんだけど、しばらくScrapboxを使ってみようという流れ。(モバイルappからのユーザビリティとかあるから、併用になるけど。slackの起用はflow側面が強くなる)
